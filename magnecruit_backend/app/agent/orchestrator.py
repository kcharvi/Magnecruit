# Main agent logic coordinating memory, LLM calls, and tools